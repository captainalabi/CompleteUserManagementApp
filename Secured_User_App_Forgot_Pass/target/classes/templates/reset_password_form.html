<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
	
	<head>
		<title>reset password</title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/
		css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" 
		crossorigin="anonymous">
	</head>
	<body>
		<!--include navigation bar-->
		<div th:replace="~{navbar :: menunav}"></div>
		<br><br>
		<!--create html login form-->
		<div class="container">
			<div class="row">
				<div class="border border-secondary rounded p-3 col-md-6 col-md-offset-3">
					
					<h1>[[${pageTitle}]]</h1>
					<form th:action="@{/reset_password}" method="post" 
					style="max-width: 400px; margin: 0 auto;">
					
					<input type="hidden" name="token" th:value="${token}"/>
					
					<!--display error message-->
					<div th:if="${message} != null">
						<div class="alert alert-danger">[[${message}]]</div>						
					</div>
					
					<div class="form-group">
						<input type="password" id="password" name="password" class="form-control" 
						placeholder="Enter Your New Password" required autofocus="autofocus"/>
					</div>
					
					<div class="form-group">
						<input type="password" name="confirmPassword" class="form-control" 
						placeholder="Confirm Your New Password" required autofocus="autofocus"/>
					</div>
					
					<div class="form-group">
						<div class="row">
							<div class="col-sm-6 col-sm-offset-3 btn btn-primary">
						<input type="submit" class="form-control-btn btn-primary" 
						value="Change Password"	oninput="checkPasswordMatch(this);"/>
						
					</div>
					</div>
					</div>
					</form>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			function checkPasswordMatch(fieldConfirmPassword) {
				if(fieldConfirmPassword.value != $("#password").val()){
					fieldConfirmPassword.setCustomValidity("Passwords Do Not Match!");
				}else{
					fieldConfirmPassword.setCustomValidity(null);
				}
			}
		</script>
	</body>
</html>